"use client";

import { useEffect } from "react";
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { ButtonLink } from "./Buttons";

gsap.registerPlugin(ScrollTrigger);

export default function WhySection() {
    useEffect(() => {
        const ids = ["icon_1", "icon_2", "icon_3", "icon_4"] as const;

        const ctx = gsap.context(() => {
            ids.forEach((id) => {
                const svg = document.getElementById(id) as SVGSVGElement | null;
                if (!svg) return;

                const paths = Array.from(svg.querySelectorAll("path")) as SVGPathElement[];
                if (paths.length === 0) return;

                const initializeForDraw = () => {
                    // Favor precise rendering while animating
                    svg.setAttribute("shape-rendering", "geometricPrecision");
                    paths.forEach((path) => {
                        const originalFill = path.getAttribute("fill") || "#543F3A";
                        const originalStroke = path.getAttribute("stroke") || "none";
                        const originalStrokeWidth = path.getAttribute("stroke-width") || "";
                        const originalLinecap = path.getAttribute("stroke-linecap") || "";
                        const originalLinejoin = path.getAttribute("stroke-linejoin") || "";
                        const dataset = (path as unknown as { dataset: DOMStringMap }).dataset;
                        dataset.originalFill = originalFill;
                        dataset.originalStroke = originalStroke;
                        dataset.originalStrokeWidth = originalStrokeWidth;
                        dataset.originalLinecap = originalLinecap;
                        dataset.originalLinejoin = originalLinejoin;
                        path.style.stroke = originalFill;
                        path.style.strokeWidth = originalStrokeWidth || "0.6";
                        // Use butt/miter to avoid a "dot" appearance at the drawing head
                        path.style.strokeLinecap = "butt";
                        path.style.strokeLinejoin = "miter";
                        path.setAttribute("shape-rendering", "geometricPrecision");
                        path.setAttribute("vector-effect", "non-scaling-stroke");
                        path.style.fill = "none";
                        try {
                            const length = path.getTotalLength();
                            path.style.strokeDasharray = `${length}`;
                            path.style.strokeDashoffset = `${length}`;
                        } catch {
                            // getTotalLength can throw for invalid paths; skip gracefully
                        }
                        path.style.visibility = "visible";
                    });
                };

                const resetForReplay = () => {
                    paths.forEach((path) => {
                        const dataset = (path as unknown as { dataset: DOMStringMap }).dataset;
                        const originalFill = dataset?.originalFill || path.getAttribute("fill") || "#543F3A";
                        path.style.fill = "none";
                        path.style.stroke = originalFill;
                        try {
                            const length = path.getTotalLength();
                            path.style.strokeDasharray = `${length}`;
                            path.style.strokeDashoffset = `${length}`;
                        } catch {}
                    });
                };

                // prepare initial state
                initializeForDraw();

                const tl = gsap.timeline({ paused: true });
                paths.forEach((path) => {
                    tl.to(path, { strokeDashoffset: 0, duration: 0.3, ease: "none" });
                });
                // after drawing all strokes, restore fills
                tl.add(() => {
                    paths.forEach((path) => {
                        const dataset = (path as unknown as { dataset: DOMStringMap }).dataset;
                        const originalFill = dataset?.originalFill;
                        if (originalFill) path.style.fill = originalFill;
                        // restore original stroke attributes so final look matches the SVG
                        const originalStroke = dataset?.originalStroke || "none";
                        const originalStrokeWidth = dataset?.originalStrokeWidth || "";
                        const originalLinecap = dataset?.originalLinecap || "";
                        const originalLinejoin = dataset?.originalLinejoin || "";
                        if (originalStroke === "none") {
                            path.style.stroke = "none";
                        } else {
                            path.style.stroke = originalStroke;
                        }
                        path.style.strokeWidth = originalStrokeWidth;
                        path.style.strokeLinecap = originalLinecap;
                        path.style.strokeLinejoin = originalLinejoin;
                        path.removeAttribute("vector-effect");
                        path.removeAttribute("shape-rendering");
                        path.style.strokeDasharray = "";
                        path.style.strokeDashoffset = "";
                    });
                    svg.removeAttribute("shape-rendering");
                });

                ScrollTrigger.create({
                    trigger: svg,
                    start: "top 85%",
                    onEnter: () => {
                        resetForReplay();
                        tl.restart();
                    },
                    onEnterBack: () => {
                        resetForReplay();
                        tl.restart();
                    },
                    invalidateOnRefresh: true,
                });
            });
        });

        return () => ctx.revert();
    }, []);

    return (
        <section className="why-section mx-auto max-w-7xl px-4 sm:px-6 my-20 lg:my-60 relative">
            <h2 className="text-4xl md:text-5xl font-semibold text-center mb-10">Why Musync?</h2>
            
            <div className="flex flex-row flex-wrap items-center justify-center gap-5">
                <div className="basis-full md:basis-[48.5%] lg:basis-[23.5%]">
                    <div className="flex flex-col p-5 min-h-[330px] rounded-[37px] bg-[#F3EFEE] shadow-[7px_28px_50px_23px_rgba(0,0,0,0.1)] relative">
                        <h3 className="text-2xl font-semibold mb-4 hidden lg:block">Messy <br/>Notes?</h3>
                        <h3 className="text-2xl font-semibold mb-4 lg:hidden">Messy Notes?</h3>
                        <p>
                            Keep your sheet music clean and readable with organized digital annotations.
                        </p>

                        <div className="absolute bottom-5 right-5 min-h-[109px]">
                            <svg id="icon_1" xmlns="http://www.w3.org/2000/svg" width="57" height="98" viewBox="0 0 57 98" fill="none">
                                <path d="M9.82026 97.9997C9.11302 97.9997 8.4462 97.8384 7.8602 97.4957C6.46593 96.6893 5.69808 95.0563 5.69808 92.8991L5.51622 30.7847C5.49601 26.5712 8.4664 21.4504 12.1238 19.3336L40.0092 3.28585C40.191 3.18505 40.4133 3.18505 40.5952 3.26569L56.4575 11.592C56.6595 11.6928 56.7808 11.9145 56.7808 12.1363L56.9222 64.0696C56.9424 68.2832 53.9518 73.4039 50.2944 75.5208L12.9523 97.0521C11.8611 97.6771 10.7902 97.9997 9.82026 97.9997ZM40.3123 4.51564L12.7502 20.4021C9.43633 22.3173 6.72862 26.9744 6.74883 30.7847L6.93069 92.8991C6.93069 94.6127 7.49648 95.8627 8.48661 96.4473C9.49695 97.032 10.871 96.8707 12.3663 96.0038L49.7084 74.4926C53.0425 72.5774 55.73 67.9203 55.73 64.11L55.5482 12.4992L40.3123 4.51564Z" fill="#543F3A"/>
                                <path d="M42.3735 20.2407C41.9088 20.2407 41.4844 20.1399 41.1207 19.9182C40.2316 19.4142 39.7467 18.386 39.7265 17.0352L39.686 3.80997C39.686 3.5882 39.8073 3.3866 39.9891 3.2858C40.171 3.16483 40.3933 3.16483 40.5953 3.26564L56.4577 11.5919C56.6597 11.6927 56.781 11.8943 56.781 12.1161C56.781 12.3378 56.6597 12.5394 56.4779 12.6604L44.3336 19.6561C43.6668 20.0391 42.9999 20.2407 42.3735 20.2407ZM40.9186 4.81799L40.9591 17.0151C40.9591 17.9021 41.242 18.5674 41.7269 18.8497C42.2119 19.1319 42.9393 19.0311 43.7274 18.5876L54.9017 12.1564L40.9186 4.81799Z" fill="#543F3A"/>
                                <path d="M7.35549 26.3898C7.25445 26.3898 7.13321 26.3696 7.05239 26.3092L1.53594 23.1036C1.25304 22.9424 1.15201 22.5996 1.29346 22.3174C2.54628 19.6159 4.50633 17.3579 6.62804 16.1281L34.4932 0.0804033C34.675 -0.0405594 34.9175 -0.020399 35.0994 0.0804033L40.6158 3.28592C40.7977 3.38672 40.9189 3.58832 40.9189 3.81009C40.9189 4.03185 40.7977 4.23346 40.6158 4.33426L12.7305 20.382C10.8513 21.4707 9.05285 23.5673 7.90107 26.0068C7.82024 26.168 7.699 26.289 7.53735 26.3293C7.47673 26.3696 7.41611 26.3898 7.35549 26.3898ZM2.64731 22.3376L7.0928 24.9181C8.34562 22.4787 10.1642 20.4828 12.1243 19.3336L39.0801 3.81009L34.7963 1.33035L7.23425 17.1966C5.47626 18.2047 3.7991 20.0997 2.64731 22.3376Z" fill="#543F3A"/>
                                <path d="M8.14333 97.5765C8.04229 97.5765 7.94126 97.5564 7.84023 97.4959L2.34399 94.2904C0.969925 93.5041 0.202068 91.8711 0.181861 89.7139L0 27.5996C0 25.9666 0.444549 24.1521 1.29323 22.3175C1.37406 22.1562 1.4953 22.0353 1.65695 21.995C1.81861 21.9345 2.00047 21.9546 2.14192 22.0554L7.65837 25.261C7.94126 25.4222 8.04229 25.765 7.90085 26.0472C7.13299 27.7004 6.70865 29.3535 6.70865 30.7849L6.89051 92.8993C6.89051 94.5928 7.43609 95.8629 8.42622 96.4475C8.70912 96.6088 8.81015 96.9919 8.6485 97.2943C8.56767 97.4556 8.3656 97.5765 8.14333 97.5765ZM2.12171 23.4465C1.51551 24.8981 1.21241 26.3093 1.21241 27.5794L1.39427 89.6938C1.41447 91.4074 1.96006 92.6574 2.95019 93.2219L5.9812 94.9758C5.79934 94.3508 5.69831 93.6452 5.69831 92.8791L5.51645 30.7648C5.51645 29.293 5.88017 27.66 6.58741 26.0069L2.12171 23.4465Z" fill="#543F3A"/>
                                <path d="M9.42284 68.3238C9.22077 68.3238 8.9985 68.223 8.89746 68.0214C8.73581 67.719 8.83684 67.3561 9.11974 67.1948L26.1742 57.3666L43.2288 47.5384C43.5319 47.3771 43.8956 47.4779 44.0572 47.7602C44.2189 48.0626 44.1179 48.4255 43.835 48.5867L9.74615 68.2432C9.64511 68.3037 9.54408 68.3238 9.42284 68.3238Z" fill="#543F3A"/>
                                <path d="M33.2383 63.2591C33.0362 63.2591 32.8139 63.1583 32.7129 62.9567C32.5512 62.6543 32.6523 62.2914 32.9352 62.1301L42.2303 56.7674C42.5334 56.6061 42.8971 56.7069 43.0588 56.9892C43.2204 57.2916 43.1194 57.6545 42.8365 57.8157L33.5414 63.1784C33.4605 63.2389 33.3595 63.2591 33.2383 63.2591Z" fill="#543F3A"/>
                                <path d="M18.2432 51.2128C18.0411 51.2128 17.8188 51.112 17.7178 50.9104C17.5561 50.608 17.6572 50.2451 17.94 50.0838L42.1882 36.1126C42.4913 35.9513 42.855 36.0521 43.0166 36.3344C43.1783 36.6368 43.0773 36.9997 42.7944 37.161L18.5463 51.1322C18.4654 51.1725 18.3644 51.2128 18.2432 51.2128Z" fill="#543F3A"/>
                                <path d="M15.5972 41.0772C15.3951 41.0772 15.1728 40.9764 15.0718 40.7748C14.9101 40.4724 15.0112 40.1095 15.2941 39.9483L49.4031 20.2918C49.7062 20.1305 50.0699 20.2313 50.2315 20.5136C50.3932 20.816 50.2922 21.1789 50.0093 21.3402L15.9205 40.9966C15.8194 41.0571 15.7184 41.0772 15.5972 41.0772Z" fill="#543F3A"/>
                                <path d="M18.2432 81.7852C18.0411 81.7852 17.8188 81.6844 17.7178 81.4828C17.5561 81.1804 17.6572 80.8175 17.94 80.6562L36.5303 69.951C36.8334 69.7897 37.1971 69.8905 37.3588 70.1728C37.5204 70.4752 37.4194 70.8381 37.1365 70.9993L18.5463 81.7045C18.4654 81.765 18.3644 81.7852 18.2432 81.7852Z" fill="#543F3A"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div className="basis-full md:basis-[48.5%] lg:basis-[23.5%]">
                    <div className="flex flex-col p-5 min-h-[330px] rounded-[37px] bg-[#F3EFEE] shadow-[7px_28px_50px_23px_rgba(0,0,0,0.1)] relative">
                        <h3 className="text-2xl font-semibold mb-4 hidden lg:block">Can’t Find <br /> Your Music?</h3>
                        <h3 className="text-2xl font-semibold mb-4 lg:hidden">Can’t Find Your Music?</h3>
                        <p>
                            Store all your music in one place so it’s always easy to access.
                        </p>

                        <div className="absolute bottom-5 right-5 min-h-[109px]">
                            <svg id="icon_2" xmlns="http://www.w3.org/2000/svg" width="89" height="79" viewBox="0 0 89 79" fill="none">
                                <path d="M79.1546 75.7987C77.9483 75.7987 76.7774 75.5125 75.7131 74.8865L75.5357 74.7792L52.8998 60.6318C52.687 60.4887 52.616 60.2026 52.7579 59.9879C52.8998 59.7733 53.1837 59.7018 53.3965 59.8449L53.5562 59.9343C53.5739 59.9522 53.5917 59.9522 53.6094 59.9701L76.192 74.0817C79.5448 76.0312 84.2281 74.2426 86.6407 70.1111C89.0356 66.0153 88.3792 61.2042 85.1328 59.1831L62.497 45.0357C62.2841 44.8926 62.2132 44.6065 62.3551 44.3918C62.497 44.1772 62.7808 44.1057 62.9937 44.2488L85.6296 58.3961C89.3017 60.7034 90.1177 66.0511 87.4567 70.594C85.5054 73.8849 82.2413 75.7987 79.1546 75.7987Z" fill="#543F3A"/>
                                <path d="M56.5189 61.6511C55.3126 61.6511 54.1418 61.365 53.0774 60.739C52.4565 60.3813 51.9066 59.9162 51.4276 59.3618C51.2679 59.1651 51.2857 58.8789 51.4808 58.7C51.676 58.5212 51.9598 58.557 52.1372 58.7537C52.5452 59.2187 53.0242 59.6301 53.5564 59.9341C56.8914 61.8836 61.5747 60.113 64.005 55.9636C65.3355 53.6921 65.7613 51.0808 65.1758 48.8273C64.7324 47.1103 63.7389 45.7689 62.3375 44.9461C61.6456 44.5348 60.8828 44.2844 60.0491 44.1949C59.8007 44.1592 59.6056 43.9446 59.6411 43.6763C59.6765 43.4259 59.9072 43.247 60.1555 43.2649C61.1135 43.3722 62.0004 43.6584 62.7987 44.1234C64.3953 45.0534 65.5484 46.6274 66.0628 48.5769C66.7192 51.0808 66.258 53.9425 64.8033 56.4286C62.8697 59.7374 59.6056 61.6511 56.5189 61.6511Z" fill="#543F3A"/>
                                <path d="M55.2948 57.2333C54.6384 57.2333 53.9998 57.1081 53.3967 56.8398C53.1661 56.7325 53.0596 56.4642 53.1483 56.2317C53.2548 55.9992 53.5208 55.8919 53.7515 55.9813C55.8447 56.8934 58.6121 55.6951 60.0491 53.2269C61.5924 50.5978 61.1667 47.5215 59.1088 46.2337L59.0024 46.1622C58.7895 46.0191 58.7186 45.7329 58.8605 45.5183C59.0024 45.3037 59.2862 45.2321 59.4991 45.3752L59.6056 45.4468C62.1069 47.0028 62.6568 50.6335 60.8651 53.7098C59.5701 55.9097 57.3881 57.2333 55.2948 57.2333Z" fill="#543F3A"/>
                                <path d="M22.5827 79.0001C19.7798 79.0001 17.1721 78.3384 14.8837 77.0149C9.33114 73.7955 6.26217 67.0527 6.24443 58.0384C6.17347 39.5627 19.088 16.9913 35.0182 7.70877C42.8414 3.14798 50.2034 2.41468 55.7914 5.65194C61.3439 8.87132 64.4129 15.6141 64.4306 24.6463C64.4838 43.1041 51.5871 65.6755 35.6568 74.958C31.0623 77.6408 26.6096 79.0001 22.5827 79.0001ZM48.0924 4.5967C44.2251 4.5967 39.9321 5.92022 35.4794 8.51361C19.7976 17.6352 7.09594 39.8489 7.1669 58.0205C7.18464 66.695 10.0939 73.1516 15.3449 76.1921C20.6313 79.2505 27.674 78.5351 35.1956 74.1353C50.8597 64.9958 63.5614 42.7821 63.5081 24.6284C63.4904 15.9361 60.5811 9.47943 55.3301 6.4389C53.1836 5.22269 50.7356 4.5967 48.0924 4.5967Z" fill="#543F3A"/>
                                <path d="M15.0612 77.0326C14.9902 77.0326 14.9015 77.0147 14.8305 76.961L8.58617 73.3303C3.06913 70.093 0.0179038 63.3681 0.000164117 54.3717C-0.0530549 35.914 12.8437 13.3246 28.7739 4.0421C36.6326 -0.536572 44.0301 -1.25199 49.6181 2.03893L55.8624 5.68756C56.093 5.81276 56.164 6.09893 56.0221 6.33144C55.8979 6.56395 55.6141 6.63549 55.3835 6.49241L49.1391 2.84378C43.8527 -0.268291 36.7923 0.447127 29.2529 4.84695C13.571 13.9864 0.869409 36.2001 0.922628 54.3717C0.940367 63.0104 3.83194 69.4492 9.0474 72.5076L15.2918 76.1562C15.5224 76.2814 15.5933 76.5676 15.4514 76.8001C15.3627 76.961 15.2208 77.0326 15.0612 77.0326Z" fill="#543F3A"/>
                                <path d="M30.9516 59.0712C26.8072 60.4764 23.0876 60.1418 21.1699 59.7975C20.6991 59.7027 20.3056 59.4199 20.0237 58.9835C19.5286 58.2495 19.3821 57.0965 19.6238 55.9276C20.7818 50.4239 24.2413 36.7624 31.0447 29.0671C37.9875 21.232 46.3211 21.8061 49.6026 22.428C50.0733 22.5227 50.4669 22.8056 50.7487 23.242C51.2439 23.976 51.3904 25.129 51.1487 26.2979C49.9698 31.8086 46.5035 45.4493 39.7141 53.1168C36.8494 56.3083 33.8048 58.1038 30.9516 59.0712ZM40.154 24.3827C37.4883 25.2866 34.6383 26.9698 32.0034 29.9446C25.4162 37.3816 22.0343 50.7856 20.9114 56.1849C20.734 56.9851 20.8198 57.8117 21.1225 58.241C21.2119 58.3725 21.3153 58.4762 21.4331 58.4826C24.4794 59.0223 32.259 59.5298 38.7137 52.2534C45.2801 44.8234 48.6757 31.4611 49.8403 26.0477C50.0176 25.2475 49.9318 24.4209 49.6292 23.9916C49.5329 23.8392 49.4363 23.7563 49.3186 23.75C47.4909 23.3983 44.0277 23.0693 40.154 24.3827Z" fill="#543F3A"/>
                                <path d="M35.3983 50.6241C34.6812 50.8672 33.9727 50.9224 33.2729 50.7896C31.6215 50.4706 30.3368 49.1252 29.6409 47.0019C28.2689 42.8874 29.5776 36.8694 32.5233 33.5576C34.0669 31.8315 35.812 31.0779 37.4845 31.3898C39.1359 31.7088 40.4206 33.0542 41.1166 35.1774C42.4886 39.292 41.1867 45.3308 38.2341 48.6217C37.342 49.6181 36.3686 50.2951 35.3983 50.6241ZM33.0171 33.9916L33.5109 34.4255C30.8555 37.4075 29.6852 42.8467 30.8996 46.552C31.4455 48.2173 32.3896 49.2387 33.5441 49.4718C34.6986 49.7048 35.994 49.0806 37.1976 47.7473C39.8529 44.7653 41.0444 39.319 39.802 35.6C39.263 33.9555 38.312 32.9133 37.1643 32.7011C35.9887 32.4752 34.6934 33.0994 33.4898 34.4327L33.0171 33.9916Z" fill="#543F3A"/>
                                <path d="M34.6833 39.0033C35.7639 37.9834 36.9581 38.1014 37.3381 39.2608C37.7181 40.4203 37.1621 42.1773 36.076 43.1803C34.9899 44.1834 33.8224 44.0751 33.4212 42.9228C33.0411 41.7634 33.5972 40.0064 34.6833 39.0033Z" fill="#543F3A"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div className="basis-full md:basis-[48.5%] lg:basis-[23.5%]">
                    <div className="flex flex-col p-5 min-h-[330px] rounded-[37px] bg-[#F3EFEE] shadow-[7px_28px_50px_23px_rgba(0,0,0,0.1)] relative">
                        <h3 className="text-2xl font-semibold mb-4 hidden lg:block">Hard to <br /> Work Together?</h3>
                        <h3 className="text-2xl font-semibold mb-4 lg:hidden">Hard to Work Together?</h3>
                        <p>
                            Use shared tools that make it simple for musicians to collaborate.
                        </p>

                        <div className="absolute bottom-5 right-5 min-h-[109px]">
                            <svg id="icon_3" xmlns="http://www.w3.org/2000/svg" width="85" height="98" viewBox="0 0 85 98" fill="none">
                                <path d="M70.4589 48.2768L70.5421 49.3138C72.6234 48.3314 74.6492 46.7758 76.5363 44.8382L70.4589 48.2768ZM50.4507 67.4347C48.3972 68.6082 46.4269 69.1813 44.6786 69.154L44.6231 70.1364C46.5656 70.191 48.7579 69.5906 50.978 68.3353C53.864 66.6706 56.6391 64.0234 58.8869 60.9123L59.0534 58.8382C56.7223 62.4678 53.6975 65.5789 50.4507 67.4347ZM80.8931 17.1111C80.8653 17.0838 80.8931 17.0838 80.8931 17.1111L72.4292 12.2534C71.1249 11.4893 69.5709 11.1891 67.9058 11.3255C66.9901 9.03313 65.4915 7.23196 63.5767 6.14034C63.3825 5.94931 55.3071 1.3918 55.0851 1.25535C51.5052 -0.791435 46.7876 -0.354788 41.7925 2.45613C41.5428 2.59258 41.4595 2.89278 41.5983 3.13839C41.737 3.384 42.0423 3.46588 42.292 3.32942C46.9541 0.682249 51.311 0.272893 54.5578 2.10135L59.3309 4.8304C56.1118 4.55749 52.5875 5.9766 49.8125 7.64131C41.4873 12.5809 33.8004 23.5789 32.3573 34.8226C32.3573 34.8499 32.3573 34.8499 32.3573 34.8499L24.8647 30.538C26.3659 21.56 33.8428 6.05847 42.292 3.32942C42.4585 3.08381 42.403 2.78361 42.181 2.61987C41.959 2.42884 42.0834 2.45613 41.7925 2.45613C31.4817 6.66403 24.5317 24.3158 23.8657 30.5107C16.6228 32.7212 8.65835 42.7641 7.65933 52.6978C3.27474 55.6452 -0.027577 61.5945 0.000173604 66.6433C0.0279242 69.3177 0.971444 71.3099 2.66423 72.2924L11.1282 77.1501H11.1837C13.1539 78.2963 15.5682 77.7232 17.5663 76.577C18.7041 75.922 19.8141 75.076 20.8686 73.9571C21.2571 74.1754 22.6169 75.0214 22.8111 75.0214C25.7805 76.7134 29.3048 75.922 32.5238 74.0663L32.4406 72.9474C29.3603 74.8031 25.9747 75.6764 23.1719 74.0663C22.7834 73.8752 22.0896 73.3294 21.4791 72.6199C21.3404 72.4016 20.9519 72.347 20.7021 72.5926C19.6753 73.7661 18.4543 74.885 17.0668 75.6491C15.0132 76.7953 13.0984 77.0136 11.7109 76.2222H11.6554C10.0459 75.267 9.49087 73.2748 9.49087 71.4191C9.46312 66.6979 12.7099 60.9123 16.8448 58.1559C16.8725 58.1286 16.8725 58.1286 16.9003 58.1286C17.1778 57.9376 17.1223 57.692 17.15 57.692C18.0658 47.6764 26.169 38.0156 32.9401 36.1325H32.9679C32.9956 36.1053 33.0511 36.1053 33.0789 36.078C33.1899 36.0234 33.3286 35.8323 33.3286 35.6959C34.3276 25.1618 41.7093 13.5633 50.312 8.46003C53.5588 6.5497 57.3051 5.15788 60.9404 6.05847C61.6897 6.2495 62.3835 6.52241 63.0495 6.87718C63.0772 6.90447 63.105 6.90447 63.1327 6.90447C67.5728 9.49706 68.3221 15.2008 67.9336 20.2222C67.9058 20.4132 68.0168 20.6043 68.1833 20.7134L68.2111 20.7407C68.4053 20.8499 68.6273 20.7953 68.7938 20.6862C71.9574 18.0117 76.8415 15.8284 80.3936 17.8752C80.4213 17.8752 80.4213 17.9025 80.4213 17.9025C82.7246 19.2398 83.9734 22.0234 84.0012 25.7895C84.0289 31.9844 80.6711 38.8343 76.2587 43.5555L76.9803 44.2924C81.6146 39.3255 85.0279 32.1754 85.0279 25.7895C84.9724 21.7232 83.5294 18.5848 80.8931 17.1111ZM8.49185 71.501C8.49185 72.9747 8.82486 74.1754 9.10236 74.7212C9.07461 74.7485 9.10236 74.7758 9.13011 74.8031L3.19149 71.4191C1.80396 70.6004 1.02694 68.9084 1.02694 66.616C0.999194 61.9766 4.13501 56.3002 8.18659 53.5166L15.6792 57.8284C14.9022 57.8557 8.49185 64.1598 8.49185 71.501ZM16.2065 56.9552L8.6861 52.6706C9.68512 42.9006 17.5385 33.4581 24.2542 31.4113L31.5526 35.5867C25.1144 38.152 17.7328 46.5575 16.2065 56.9552ZM69.0158 19.267C69.1268 16.9746 68.9604 14.5185 68.2666 12.308C69.6264 12.2261 70.8474 12.499 71.9297 13.0994L77.1745 16.1014C74.2607 16.1286 71.3746 17.575 69.0158 19.267Z" fill="#543F3A"/>
                                <path d="M77.4523 44.1557L67.5453 34.3312C67.4066 34.222 67.4621 34.2493 67.4343 34.2493L63.133 31.7932C62.8555 31.6294 62.5225 31.7659 62.4115 32.0115L52.5878 53.0251C52.4768 53.2707 52.56 53.5436 52.8098 53.6801L57.1111 56.1362C57.2221 56.1908 57.4719 56.2181 57.6384 56.1362L58.7484 55.5086L56.6949 83.1811C56.6671 83.3721 56.7781 83.5631 56.9446 83.6723L61.246 86.1284C61.4402 86.2376 61.6345 86.183 61.7732 86.1284L73.3452 79.5787C73.5117 79.4696 73.6227 79.3058 73.595 79.0875L72.7902 69.645C72.7625 69.3721 72.4849 69.1538 72.2352 69.1811C71.9577 69.2084 71.7357 69.454 71.7634 69.7269L72.5405 78.8419L62.1062 84.7639L64.5483 51.9608C64.5483 51.7698 64.465 51.606 64.2985 51.4969C64.132 51.3877 63.9378 51.3877 63.7713 51.4969L58.4987 54.4715L67.3233 35.5592L76.259 44.4013L70.1817 47.8399C70.0151 47.9491 69.9041 48.1128 69.9319 48.3312L71.7634 69.7269C71.7912 69.9998 72.0409 70.1908 72.3184 70.1908C72.5959 70.1635 72.818 69.9179 72.7902 69.645L70.9864 48.5768L77.369 44.9472C77.6466 44.7834 77.7021 44.4013 77.4523 44.1557ZM61.0795 84.8185L57.7494 82.9355L59.8307 54.8809L63.4383 52.8341L61.0795 84.8185ZM63.1053 32.9394L66.5186 34.9043L57.1389 54.99L53.7256 53.0251L63.1053 32.9394Z" fill="#543F3A"/>
                                <path d="M50.8671 76.1126C50.1733 75.7033 46.205 73.4382 46.4548 73.5746C46.316 73.4927 46.094 73.4927 45.9275 73.5746L44.7897 74.2296C45.761 60.9937 46.8433 46.2842 46.8433 46.5025C46.8433 46.3114 46.7045 46.1477 46.5935 46.0658C46.3993 45.9294 42.0702 43.4732 42.2922 43.5824C42.1257 43.5005 41.9314 43.5005 41.7649 43.5824C34.078 47.9489 45.539 41.4537 30.1929 50.1594C30.0819 50.2413 29.9432 50.4596 29.9432 50.596C29.9432 50.7871 31.5527 70.1906 31.5805 69.9996C31.6082 70.2725 31.858 70.4635 32.1355 70.4635C32.413 70.4362 32.635 70.1906 32.6072 69.9177L31.0532 51.5239H31.081L34.2723 53.3524L35.4378 66.9703L36.7976 82.9625L33.5785 81.1068L32.6072 69.9177C32.5795 69.6448 32.302 69.4265 32.0522 69.4537C31.7747 69.481 31.5527 69.7267 31.5805 69.9996L32.524 81.1341L26.1413 84.7637C25.9193 84.8728 25.7806 85.2276 26.0026 85.5005C26.2801 85.7734 36.5756 96.0073 35.9373 95.3797C35.9651 95.407 35.9928 95.4342 36.0483 95.4615L40.3496 97.9177C40.6271 98.0814 40.9602 97.945 41.0712 97.6994C46.7323 85.6097 45.1505 88.9664 50.8949 76.6857C51.0614 76.4674 51.0059 76.2218 50.8671 76.1126ZM46.205 74.6116L49.4796 76.4674C49.2853 76.5766 44.096 79.5239 44.429 79.3329L44.7065 75.4303L46.205 74.6116ZM42.0424 44.6194L45.317 46.5025C45.095 46.6389 34.1335 52.8612 34.7718 52.4791L31.4972 50.596L42.0424 44.6194ZM33.1345 82.0074L36.4091 83.8904C36.1871 83.9996 30.4149 87.2744 30.7757 87.0834L27.5011 85.2003L33.1345 82.0074ZM29.5824 87.5746L30.4704 88.0931C30.6647 88.2841 38.0463 95.6253 37.6023 95.1614L36.7143 94.6428L29.5824 87.5746ZM40.5161 96.635L31.6082 87.7929C32.2187 87.4382 29.3604 89.0756 37.6856 84.327C37.9353 84.1633 37.9076 84.0268 37.9353 83.8631L35.3268 53.3251C35.5765 53.1886 46.1773 47.1574 45.761 47.4031L43.3467 80.2335C43.319 80.6428 43.763 80.9157 44.1237 80.6974L49.3963 77.7227L40.5161 96.635Z" fill="#543F3A"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div className="basis-full md:basis-[48.5%] lg:basis-[23.5%]">
                    <div className="flex flex-col p-5 min-h-[330px] rounded-[37px] bg-[#F3EFEE] shadow-[7px_28px_50px_23px_rgba(0,0,0,0.1)] relative">
                        <h3 className="text-2xl font-semibold mb-4 hidden lg:block">Struggling to <br /> Read on Screens?</h3>
                        <h3 className="text-2xl font-semibold mb-4 lg:hidden">Struggling to Read on Screens?</h3>
                        <p>
                            Enjoy clear, readable music on any device with dynamic music rendering.
                        </p>

                        <div className="absolute bottom-5 right-5 min-h-[109px]">
                            <svg id="icon_4" xmlns="http://www.w3.org/2000/svg" width="50" height="100" viewBox="0 0 50 100" fill="none">
                                <path d="M11.0798 99.1517C10.2798 99.1517 9.51979 98.9515 8.83979 98.5711C7.23979 97.6501 6.35979 95.7681 6.35979 93.2655L6.19979 34.4631C6.17979 29.5779 9.63979 23.5915 13.8998 21.1289L40.8798 5.53235C43.0598 4.27101 45.1398 4.09082 46.7598 5.01179C48.3598 5.93277 49.2398 7.79475 49.2398 10.2974L49.3998 69.0998C49.4198 74.005 45.9598 79.9914 41.6998 82.454L14.6998 98.0506C13.4398 98.7914 12.1998 99.1517 11.0798 99.1517ZM41.4598 6.59347L14.4998 22.19C10.5798 24.4524 7.39979 29.9583 7.39979 34.4631L7.55979 93.2655C7.55979 95.3077 8.23979 96.8293 9.43979 97.51C10.6398 98.2107 12.2998 98.0305 14.0998 96.9894L41.0798 81.3929C44.9998 79.1305 48.1798 73.6046 48.1798 69.0998L47.9998 10.3174C47.9998 8.27526 47.3398 6.77366 46.1198 6.07292C44.8998 5.37218 43.2598 5.55237 41.4598 6.59347Z" fill="#543F3A"/>
                                <path d="M13.8799 91.2237C13.3999 91.2237 12.9599 91.1036 12.5599 90.8834C11.6199 90.3428 11.0999 89.2617 11.0999 87.8602L10.9399 34.4435C10.9399 31.7406 12.7799 28.5372 15.1199 27.1758L18.2799 25.3538C18.6599 25.1336 19.0599 25.1336 19.3599 25.3138C19.6799 25.494 19.8599 25.8544 19.8799 26.2948V27.2558C19.8799 27.396 19.9199 27.4761 19.9199 27.4761C19.9199 27.4761 19.9999 27.4561 20.1399 27.396L34.6199 19.0271C35.0799 18.7668 35.4799 18.0661 35.4799 17.5455V16.5845C35.4799 15.9238 35.8999 15.183 36.4799 14.8627L39.6199 13.0408C40.8599 12.32 42.0599 12.2399 42.9999 12.7605C43.9399 13.301 44.4599 14.3822 44.4599 15.7837L44.6199 69.1804C44.6199 71.8432 42.7399 75.1066 40.4199 76.4481L15.9199 90.6031C15.2199 91.0035 14.5199 91.2237 13.8799 91.2237ZM18.6999 26.5151L15.7599 28.2169C13.7799 29.3581 12.1799 32.141 12.1799 34.4235L12.3399 87.8402C12.3399 88.8012 12.6399 89.5019 13.1799 89.8223C13.7199 90.1426 14.4999 90.0425 15.3399 89.542L39.8399 75.3869C41.7999 74.2657 43.4399 71.4027 43.4199 69.1603L43.2599 15.7637C43.2599 14.8026 42.9599 14.1019 42.4199 13.7815C41.8799 13.4612 41.0999 13.5613 40.2599 14.0618L37.1199 15.8838C36.9199 16.0039 36.7199 16.3443 36.7399 16.5645V17.5255C36.7399 18.4865 36.1199 19.5877 35.2799 20.0682L20.7999 28.4371C20.2999 28.7174 19.7799 28.7574 19.3799 28.5172C18.9799 28.2769 18.7399 27.8164 18.7399 27.2558L18.6999 26.5151Z" fill="#543F3A"/>
                                <path d="M9.12 98.6515C9.02 98.6515 8.92 98.6315 8.82 98.5714L2.64 94.9676C1.04 94.0466 0.18 92.1646 0.18 89.682L0 30.8796C0 28.9375 0.54 26.7552 1.58 24.5729C1.66 24.4127 1.78 24.3126 1.94 24.2525C2.1 24.1925 2.28 24.2125 2.42 24.3126L8.62 27.9164C8.9 28.0766 9 28.417 8.86 28.6973C7.9 30.7194 7.4 32.7015 7.4 34.4634L7.58 93.2658C7.58 95.308 8.24 96.8296 9.44 97.5303C9.74 97.6905 9.82 98.0709 9.66 98.3512C9.54 98.5514 9.34 98.6515 9.12 98.6515ZM2.4 25.6941C1.62 27.496 1.2 29.2779 1.22 30.8796L1.4 89.682C1.4 91.7242 2.06 93.2258 3.26 93.9265L6.8 95.9887C6.52 95.2079 6.38 94.2869 6.38 93.2858L6.2 34.4634C6.2 32.6815 6.66 30.6994 7.54 28.6772L2.4 25.6941Z" fill="#543F3A"/>
                                <path d="M8.31992 29.0376C8.21992 29.0376 8.09992 29.0176 8.01992 28.9575L1.81992 25.3537C1.53992 25.1935 1.43992 24.8532 1.57992 24.5729C3.03992 21.4896 5.27992 18.9269 7.69992 17.5454L34.6799 1.94885C36.8199 0.687511 38.9599 0.50732 40.5599 1.4283L46.7599 5.03212C47.0399 5.19229 47.1399 5.5727 46.9799 5.85299C46.8199 6.15331 46.4399 6.2334 46.1599 6.07323C44.9399 5.37248 43.2799 5.55268 41.4799 6.59378L14.4999 22.1903C12.2999 23.4717 10.2399 25.8342 8.87992 28.7173C8.79992 28.8774 8.67992 28.9775 8.51992 29.0376C8.43992 29.0376 8.37992 29.0376 8.31992 29.0376ZM2.91992 24.5929L8.05992 27.5761C9.51992 24.7531 11.6199 22.4306 13.8799 21.1292L40.8399 5.55268C41.7399 5.03212 42.6199 4.69176 43.4799 4.53159L39.9399 2.4694C38.7399 1.76866 37.0399 1.96887 35.2799 2.98996L8.29992 18.5865C6.21992 19.7878 4.27992 21.9701 2.91992 24.5929Z" fill="#543F3A"/>
                                <path d="M23.5798 22.7708C23.3798 22.7708 23.1598 22.6707 23.0598 22.4705C22.8998 22.1702 22.9998 21.8098 23.2798 21.6496L31.5198 16.8845C31.8198 16.7244 32.1798 16.8245 32.3398 17.1048C32.4998 17.4051 32.3998 17.7655 32.1198 17.9257L23.8798 22.6907C23.7998 22.7508 23.6798 22.7708 23.5798 22.7708Z" fill="#543F3A"/>
                                <path d="M3.47988 52.8627C3.15988 52.8627 2.89988 52.6025 2.89988 52.2821L2.87988 48.2378C2.87988 47.9175 3.13988 47.6572 3.45988 47.6572C3.77988 47.6572 4.03988 47.9175 4.03988 48.2378L4.05988 52.2821C4.07988 52.6025 3.79988 52.8627 3.47988 52.8627Z" fill="#543F3A"/>
                                <path d="M3.45986 45.0744C3.13986 45.0744 2.87986 44.8142 2.87986 44.4938L2.85986 37.5464C2.85986 37.2261 3.11986 36.9658 3.43986 36.9658C3.75986 36.9658 4.01986 37.2261 4.01986 37.5464L4.03986 44.4938C4.03986 44.8142 3.77986 45.0744 3.45986 45.0744Z" fill="#543F3A"/>
                                <path d="M22.8201 59.1295C21.6601 59.1295 20.5801 58.8492 19.6201 58.3086C17.3201 56.9872 16.0601 54.2643 16.0601 50.6405C16.0401 43.3728 21.1401 34.5034 27.4601 30.8795C30.6401 29.0376 33.6601 28.7573 35.9801 30.0987C38.2801 31.4201 39.5401 34.143 39.5601 37.7868C39.5801 45.0345 34.4601 53.904 28.1601 57.5478C26.2601 58.5889 24.4601 59.1295 22.8201 59.1295ZM32.7401 30.4591C31.3201 30.4591 29.7201 30.9396 28.0401 31.9206C22.0801 35.3643 17.2401 43.7532 17.2601 50.6405C17.2601 53.8239 18.3201 56.1664 20.2201 57.2675C22.1401 58.3687 24.7201 58.0884 27.5201 56.4867C33.5001 53.043 38.3401 44.6341 38.3201 37.7868C38.3201 34.6035 37.2601 32.241 35.3601 31.1398C34.5801 30.6793 33.7001 30.4591 32.7401 30.4591Z" fill="#543F3A"/>
                                <path d="M27.82 49.1992C28.56 48.7588 29.18 49.1191 29.18 49.98C29.18 50.841 28.58 51.9021 27.82 52.3225C27.06 52.763 26.46 52.4026 26.46 51.5417C26.46 50.6808 27.06 49.6397 27.82 49.1992Z" fill="#543F3A"/>
                                <path d="M27.7802 36.1053C28.8602 35.4846 29.7202 36.0452 29.6402 37.3466L29.1402 45.6754C29.1002 46.4963 28.5202 47.4573 27.8202 47.8577C27.1202 48.2582 26.5402 47.9779 26.4802 47.2171L25.9202 39.5089C25.8402 38.2876 26.7002 36.7259 27.7802 36.1053Z" fill="#543F3A"/>
                                <path d="M18.0802 71.6425C17.8802 71.6425 17.6602 71.5424 17.5602 71.3422C17.4002 71.0419 17.5002 70.6815 17.7802 70.5214L29.4202 63.7942C29.7202 63.634 30.0802 63.7342 30.2402 64.0144C30.4002 64.3148 30.3002 64.6752 30.0202 64.8353L18.3802 71.5625C18.2802 71.6225 18.1802 71.6425 18.0802 71.6425Z" fill="#543F3A"/>
                                <path d="M33.86 62.5133C33.66 62.5133 33.44 62.4131 33.34 62.2129C33.18 61.9126 33.28 61.5522 33.56 61.3921L37.36 59.1897C37.64 59.0296 38.02 59.1297 38.18 59.41C38.34 59.7103 38.24 60.0707 37.96 60.2308L34.16 62.4332C34.08 62.4932 33.98 62.5133 33.86 62.5133Z" fill="#543F3A"/>
                                <path d="M18.0802 79.9318C17.8802 79.9318 17.6602 79.8317 17.5602 79.6315C17.4002 79.3311 17.5002 78.9707 17.7802 78.8106L22.8802 75.8675C23.1602 75.7073 23.5402 75.8074 23.7002 76.0877C23.8602 76.388 23.7602 76.7484 23.4802 76.9086L18.3802 79.8517C18.2802 79.9117 18.1802 79.9318 18.0802 79.9318Z" fill="#543F3A"/>
                                <path d="M27.2399 74.6459C27.0399 74.6459 26.8199 74.5458 26.7199 74.3456C26.5599 74.0453 26.6599 73.6849 26.9399 73.5247L37.3799 67.4983C37.6599 67.3381 38.0399 67.4383 38.1999 67.7186C38.3599 68.0189 38.2599 68.3793 37.9799 68.5394L27.5399 74.5658C27.4399 74.6059 27.3399 74.6459 27.2399 74.6459Z" fill="#543F3A"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div className="flex align-center justify-center">
              <ButtonLink href="#" className="mt-10 min-w-[197px]">
                Learn More
              </ButtonLink>
            </div>
        </section>
    );
}